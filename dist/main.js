(()=>{"use strict";let t=0;function e(e,n){this.title=e,this.description=n,this.id=t,this.tasks=[]}let n="",l=document.getElementById("projectsContainer");function a(t,e){n=t,console.log("displayedIndex = ",n),document.getElementById("nameDisplay").textContent=e.title}function o(){let t=JSON.parse(localStorage[n]).tasks,e=document.getElementById("taskContainer");e.textContent="";for(let n=0;n<t.length;n++){let l=document.createElement("div");l.className="task";let a=document.createElement("h1");a.textContent=t[n].title;let o=document.createElement("p");o.textContent=t[n].description,l.append(a),a.append(o),e.append(l),"low"==t[n].priority?l.style.backgroundColor="rgba(12, 236, 4, 0.75)":"medium"==t[n].priority?l.style.backgroundColor="rgba(255, 251, 1, 0.75)":"high"==t[n].priority&&(l.style.backgroundColor="rgba(255, 1, 1, 0.75)");let s=document.createElement("div");s.className="taskDue",s.textContent="Due: "+t[n].dueDate,l.append(s)}}function s(t,e,n,l){this.title=t,this.description=e,this.dueDate=n,this.priority=l}document.getElementById("projectForm").addEventListener("submit",(()=>{(function(n){n.preventDefault();let l=new e(titleInput.value,descInput.value),a=JSON.stringify(l);localStorage.setItem(t,a),t++,projectsFormContainer.style.display="",titleInput.value="",descInput.value=""})(event),function(){let e=document.createElement("div"),n=t-1,s=JSON.parse(localStorage[localStorage.length-1]);e.textContent=s.title,e.className="project",e.setAttribute("data-id",n),e.addEventListener("click",(()=>{a(n,s),o()})),l.append(e)}()}));const i=document.getElementById("projectBtn"),d=document.getElementById("projectsFormContainer");i.addEventListener("click",(()=>{""==d.style.display?d.style.display="flex":"flex"==d.style.display&&(d.style.display="")})),document.getElementById("tasksForm").addEventListener("submit",(()=>{(function(t){t.preventDefault();let e=JSON.parse(localStorage[n]);if(console.log(e),void 0!==e){let t=new s(taskTitleInput.value,taskDescInput.value,dueDateInput.value,priorityInput.value);e.tasks.push(t);let l=JSON.stringify(e);localStorage.setItem(n,l),tasksFormContainer.style.display="",taskTitleInput.value="",taskDescInput.value="",dueDateInput.value="",priorityInput.option=""}else alert("Select a project to add your task to.")})(event),o()}));const r=document.getElementById("taskBtn"),c=document.getElementById("tasksFormContainer");r.addEventListener("click",(()=>{""==c.style.display?c.style.display="flex":"flex"==c.style.display&&(c.style.display="")})),function(){for(let e=0;e<localStorage.length;e++){t++;let n=document.createElement("div"),s=t-1,i=JSON.parse(localStorage[e]);n.textContent=i.title,n.className="project",n.setAttribute("data-id",s),n.addEventListener("click",(()=>{a(s,i),o()})),l.append(n)}}()})();